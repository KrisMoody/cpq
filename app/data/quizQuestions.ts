export type QuestionType = 'single' | 'multiple'

export type QuizDomain =
  | 'meta'
  | 'product'
  | 'category'
  | 'attribute'
  | 'pricing'
  | 'currency'
  | 'quote'
  | 'customer'
  | 'contract'
  | 'tax'
  | 'rules'
  | 'discount'
  | 'guided-selling'
  | 'relationships'

export interface QuizQuestion {
  id: string
  domain: QuizDomain
  question: string
  type: QuestionType
  options: string[]
  correctAnswers: number[] // 0-indexed
  explanation: string
}

export const domainLabels: Record<QuizDomain, string> = {
  'meta': 'CPQ Overview',
  'product': 'Product Terms',
  'category': 'Category Terms',
  'attribute': 'Attribute Terms',
  'pricing': 'Pricing Terms',
  'currency': 'Currency Terms',
  'quote': 'Quote Terms',
  'customer': 'Customer Terms',
  'contract': 'Contract Terms',
  'tax': 'Tax Terms',
  'rules': 'Rules Terms',
  'discount': 'Discount Terms',
  'guided-selling': 'Guided Selling',
  'relationships': 'Relationships',
}

export const quizQuestions: QuizQuestion[] = [
  // === META / OVERVIEW ===
  // Correct: 0, 3, 2, 3
  {
    id: 'meta-1',
    domain: 'meta',
    question: 'What does CPQ stand for?',
    type: 'single',
    options: [
      'Configure, Price, Quote',
      'Customer Price Quotation',
      'Catalog Product Query',
      'Contract Pricing Qualification',
    ],
    correctAnswers: [0],
    explanation: 'CPQ stands for Configure, Price, Quote - a three-step sales workflow for configuring products, calculating prices, and generating quotes.',
  },
  {
    id: 'meta-2',
    domain: 'meta',
    question: 'What is the correct order of the CPQ workflow?',
    type: 'single',
    options: [
      'Price → Configure → Quote',
      'Quote → Configure → Price',
      'Configure → Quote → Price',
      'Configure → Price → Quote',
    ],
    correctAnswers: [3],
    explanation: 'The CPQ workflow is: Configure (select and customize products), Price (calculate pricing), Quote (generate the document).',
  },
  {
    id: 'meta-3',
    domain: 'meta',
    question: 'Which of these is NOT a core CPQ function?',
    type: 'single',
    options: [
      'Configure products',
      'Calculate prices',
      'Generate invoices',
      'Create quotes',
    ],
    correctAnswers: [2],
    explanation: 'CPQ focuses on Configure, Price, and Quote. Invoice generation is typically handled by ERP or billing systems, not CPQ.',
  },
  {
    id: 'meta-4',
    domain: 'meta',
    question: 'What problems does CPQ solve for sales teams?',
    type: 'multiple',
    options: [
      'Replaces the CRM system entirely',
      'Eliminates manual pricing errors',
      'Speeds up quote generation',
      'Ensures valid product configurations',
    ],
    correctAnswers: [1, 2, 3],
    explanation: 'CPQ helps eliminate errors, speeds up quoting, and enforces configuration rules. It complements (not replaces) CRM systems.',
  },
  {
    id: 'meta-5',
    domain: 'meta',
    question: 'What happens during the "Configure" step in CPQ?',
    type: 'single',
    options: [
      'The quote document is generated',
      'Customer information is entered',
      'The final price is calculated',
      'Product options are selected and validated',
    ],
    correctAnswers: [3],
    explanation: 'During configuration, users select product options and the system validates that the combination is valid according to business rules.',
  },

  // === PRODUCT TERMS ===
  // Correct: 0, 1, 2, 3, 0, 1, 2, 3
  {
    id: 'product-1',
    domain: 'product',
    question: 'What is the key characteristic of a configurable bundle in CPQ?',
    type: 'single',
    options: [
      'It contains features with selectable options that customers choose from',
      'It is always more expensive than individual products',
      'It can only be sold to enterprise customers',
      'It must include at least 10 products',
    ],
    correctAnswers: [0],
    explanation: 'A configurable bundle contains features (categories of choices) with options that customers select during configuration. Think of features as questions and options as answers.',
  },
  {
    id: 'product-2',
    domain: 'product',
    question: 'In CPQ, what is a "Feature" within a product bundle?',
    type: 'single',
    options: [
      'The product\'s price',
      'A category of choice - like asking "Which RAM size?"',
      'The product\'s unique identifier',
      'A discount applied to the product',
    ],
    correctAnswers: [1],
    explanation: 'A Feature is a category of choice within a bundle - think of it as the QUESTION being asked (e.g., "Which RAM?", "Which storage?"). Features contain Options which are the answers.',
  },
  {
    id: 'product-3',
    domain: 'product',
    question: 'What is the relationship between Features and Options in a product bundle?',
    type: 'single',
    options: [
      'Options contain Features',
      'They are independent and unrelated',
      'Features contain Options - Feature is the question, Option is the answer',
      'One Option can belong to multiple Features',
    ],
    correctAnswers: [2],
    explanation: 'Features contain Options. Feature is the QUESTION ("Which RAM?"), Option is the ANSWER ("32GB"). One Feature contains many Options, but each Option belongs to exactly one Feature.',
  },
  {
    id: 'product-4',
    domain: 'product',
    question: 'What is a SKU in CPQ?',
    type: 'single',
    options: [
      'A discount code',
      'The vendor\'s name',
      'The product category',
      'A unique identifier for each product',
    ],
    correctAnswers: [3],
    explanation: 'SKU (Stock Keeping Unit) is a unique alphanumeric code that identifies a specific product. It enables inventory tracking, price lookups, and rule conditions.',
  },
  {
    id: 'product-5',
    domain: 'product',
    question: 'What types of products typically exist in a CPQ catalog?',
    type: 'multiple',
    options: [
      'Standalone products (sold as-is)',
      'Configurable bundles (with options)',
      'Service products',
      'Subscription products',
    ],
    correctAnswers: [0, 1, 2, 3],
    explanation: 'CPQ catalogs typically include standalone products, configurable bundles, services, and subscription products. The key distinction is whether configuration is required.',
  },
  {
    id: 'product-6',
    domain: 'product',
    question: 'What is a Unit of Measure used for in CPQ?',
    type: 'single',
    options: [
      'Standardizing how product quantities are tracked',
      'Calculating shipping costs',
      'Determining product weight',
      'Measuring product dimensions',
    ],
    correctAnswers: [0],
    explanation: 'Unit of Measure standardizes quantity tracking (e.g., "Each", "Box", "License", "Hour"). Units can have conversion factors to enable calculations across different units.',
  },
  {
    id: 'product-7',
    domain: 'product',
    question: 'If 1 Box = 12 units, how many individual units are in 5 Boxes?',
    type: 'single',
    options: ['5', '60', '17', '12'],
    correctAnswers: [1],
    explanation: 'With a conversion factor of 12, each Box equals 12 units. So 5 Boxes × 12 = 60 units.',
  },
  {
    id: 'product-8',
    domain: 'product',
    question: 'What do minimum and maximum selection rules on a Feature control?',
    type: 'single',
    options: [
      'The price range for options',
      'The number of options that can be created',
      'How many options must/can be selected by the customer',
      'The quantity limits for the product',
    ],
    correctAnswers: [2],
    explanation: 'Minimum and maximum selection rules control how many options a customer must or can select. For example, "pick exactly one" or "pick 0 to 3" accessories.',
  },

  // === CATEGORY TERMS ===
  // Correct: 3, 0, 1, 2
  {
    id: 'category-1',
    domain: 'category',
    question: 'What is the purpose of product categories in CPQ?',
    type: 'single',
    options: [
      'To set product prices',
      'To define discount rules',
      'To track inventory levels',
      'To organize products hierarchically for browsing and management',
    ],
    correctAnswers: [3],
    explanation: 'Categories organize products hierarchically (like folders) for easier browsing, management, and can also be used for category-specific pricing or discount rules.',
  },
  {
    id: 'category-2',
    domain: 'category',
    question: 'How do category hierarchies typically work?',
    type: 'single',
    options: [
      'Categories can have parent-child relationships forming a tree structure',
      'Categories are always flat with no nesting',
      'Only two levels of nesting are allowed',
      'Each product can only be in one category',
    ],
    correctAnswers: [0],
    explanation: 'Categories typically support parent-child relationships forming a tree structure (e.g., Hardware → Computers → Laptops). This enables drill-down navigation.',
  },
  {
    id: 'category-3',
    domain: 'category',
    question: 'What are common uses for product category hierarchies?',
    type: 'multiple',
    options: [
      'Organizing products for browsing',
      'Applying category-scoped discounts',
      'Automatically generating product names',
      'Filtering products by classification',
    ],
    correctAnswers: [0, 1, 3],
    explanation: 'Category hierarchies organize products for browsing, enable category-scoped discounts, and allow filtering. They don\'t automatically generate product names.',
  },
  {
    id: 'category-4',
    domain: 'category',
    question: 'Can a product belong to multiple categories in CPQ?',
    type: 'single',
    options: [
      'No, each product must be in exactly one category',
      'Yes, products can typically be assigned to multiple categories',
      'Only configurable bundles can be in multiple categories',
      'Only if the categories have the same parent',
    ],
    correctAnswers: [1],
    explanation: 'Products can typically belong to multiple categories. For example, a "USB-C Hub" might be in both "Accessories" and "Computer Peripherals" categories.',
  },
  {
    id: 'category-5',
    domain: 'category',
    question: 'What is a "root category" in a category hierarchy?',
    type: 'single',
    options: [
      'The most commonly used category',
      'The category with the most products',
      'A category with no parent - at the top of the hierarchy',
      'A required category that all products must be in',
    ],
    correctAnswers: [2],
    explanation: 'A root category has no parent and sits at the top of the hierarchy. It serves as an entry point for browsing (e.g., "Hardware", "Software", "Services").',
  },

  // === ATTRIBUTE TERMS ===
  // Correct: 3, 0, 1, 2, 3
  {
    id: 'attribute-1',
    domain: 'attribute',
    question: 'What is a product attribute in CPQ?',
    type: 'single',
    options: [
      'A fixed field like product name or SKU',
      'The product\'s price',
      'A discount applied to the product',
      'A flexible custom property that extends product information',
    ],
    correctAnswers: [3],
    explanation: 'Product attributes are flexible custom properties that extend product information beyond fixed fields. Examples include "Color", "Warranty Length", or "Technical Specifications".',
  },
  {
    id: 'attribute-2',
    domain: 'attribute',
    question: 'What types of data can product attributes typically store?',
    type: 'multiple',
    options: [
      'Text values',
      'Numbers',
      'Boolean (yes/no) values',
      'Selection from predefined options',
    ],
    correctAnswers: [0, 1, 2, 3],
    explanation: 'Product attributes typically support multiple data types: text, numbers, booleans, dates, and selection lists. This flexibility allows capturing diverse product information.',
  },
  {
    id: 'attribute-3',
    domain: 'attribute',
    question: 'What is the purpose of grouping attributes together?',
    type: 'single',
    options: [
      'To organize related attributes for display and management',
      'To make them required',
      'To apply discounts',
      'To set default values',
    ],
    correctAnswers: [0],
    explanation: 'Attribute groups organize related attributes for easier display and management. For example, "Technical Specs" group might contain processor, memory, and storage attributes.',
  },
  {
    id: 'attribute-4',
    domain: 'attribute',
    question: 'What is the difference between an attribute definition and an attribute value?',
    type: 'single',
    options: [
      'They are the same thing',
      'Definition specifies the attribute structure; value is what\'s stored for a specific product',
      'Definition is for bundles only; value is for standalone products',
      'Definition is optional; value is required',
    ],
    correctAnswers: [1],
    explanation: 'The attribute definition specifies the structure (name, type, constraints). The attribute value is the actual data stored for a specific product (e.g., Color = "Red").',
  },
  {
    id: 'attribute-5',
    domain: 'attribute',
    question: 'Why might you associate attributes with categories?',
    type: 'single',
    options: [
      'To delete attributes automatically',
      'To change the category name',
      'To suggest which attributes products in that category should have',
      'To set product prices',
    ],
    correctAnswers: [2],
    explanation: 'Associating attributes with categories suggests which attributes products in that category should have. For example, "Electronics" category might suggest "Voltage" and "Wattage" attributes.',
  },
  {
    id: 'attribute-6',
    domain: 'attribute',
    question: 'What can constraints on a numeric attribute specify?',
    type: 'multiple',
    options: [
      'Minimum allowed value',
      'Maximum allowed value',
      'The product\'s price',
      'Required number of decimal places',
    ],
    correctAnswers: [0, 1],
    explanation: 'Numeric attributes can have minimum and maximum constraints. For example, "Screen Size" might have min=10 and max=32 inches to ensure valid entries.',
  },

  // === PRICING TERMS ===
  // Correct: 0, 1, 2, 3, 0, 1, 2, 3
  {
    id: 'pricing-1',
    domain: 'pricing',
    question: 'What is a Price Book in CPQ?',
    type: 'single',
    options: [
      'A named collection of product prices for a specific purpose',
      'A physical book with printed prices',
      'A list of discounts',
      'A pricing algorithm',
    ],
    correctAnswers: [0],
    explanation: 'A Price Book is a named collection of product prices. Different price books serve different purposes: regional pricing, customer tiers, promotional pricing, etc.',
  },
  {
    id: 'pricing-2',
    domain: 'pricing',
    question: 'What is the relationship between a Price Book and price entries?',
    type: 'single',
    options: [
      'Price entries contain multiple Price Books',
      'A Price Book contains many price entries - one per product',
      'They are independent entities',
      'Each Price Book can only have one price entry',
    ],
    correctAnswers: [1],
    explanation: 'A Price Book is a container that holds many price entries. Each entry links one product to that price book with a specific price.',
  },
  {
    id: 'pricing-3',
    domain: 'pricing',
    question: 'What is a "List Price" in CPQ?',
    type: 'single',
    options: [
      'The final price after all discounts',
      'A discount amount',
      'The base catalog price before any adjustments',
      'The cost to manufacture',
    ],
    correctAnswers: [2],
    explanation: 'List Price is the base catalog price before any adjustments or discounts. It\'s the starting point from which final prices are calculated.',
  },
  {
    id: 'pricing-4',
    domain: 'pricing',
    question: 'What is volume-based pricing (price tiers)?',
    type: 'single',
    options: [
      'A customer loyalty program',
      'A tax calculation method',
      'A type of discount',
      'Pricing that changes based on quantity purchased',
    ],
    correctAnswers: [3],
    explanation: 'Volume-based pricing (price tiers) adjusts the unit price based on quantity. For example: 1-10 units at $100 each, 11-50 units at $90 each, 50+ at $80 each.',
  },
  {
    id: 'pricing-5',
    domain: 'pricing',
    question: 'What billing frequencies are typically used for recurring products?',
    type: 'multiple',
    options: [
      'One-time (not recurring)',
      'Monthly',
      'Quarterly',
      'Annual',
    ],
    correctAnswers: [1, 2, 3],
    explanation: 'Common recurring billing frequencies are monthly, quarterly, and annual. One-time is not recurring. CPQ uses these to calculate MRR, ARR, and other metrics.',
  },
  {
    id: 'pricing-6',
    domain: 'pricing',
    question: 'What is the difference between volume pricing and volume discounts?',
    type: 'single',
    options: [
      'Volume pricing sets the base price at quantities; volume discounts reduce from the base price',
      'They are the same thing',
      'Volume pricing is for products; volume discounts are for services',
      'Volume discounts are always percentages; volume pricing is always fixed amounts',
    ],
    correctAnswers: [0],
    explanation: 'Volume pricing sets the BASE PRICE at different quantities (e.g., $10/unit at qty 10+). Volume discounts apply a REDUCTION from the base price (e.g., 5% off at qty 10+).',
  },
  {
    id: 'pricing-7',
    domain: 'pricing',
    question: 'What is the difference between "per unit" and "flat price" tier types?',
    type: 'single',
    options: [
      'They are the same thing',
      'Per unit charges for each item; flat price is a fixed total regardless of quantity within the tier',
      'Flat price is always cheaper',
      'Per unit is only for services',
    ],
    correctAnswers: [1],
    explanation: 'Per unit pricing charges for each item (10 units × $5 = $50). Flat pricing is a fixed total for the tier regardless of quantity (10+ units = $100 total, whether you buy 10 or 50).',
  },
  {
    id: 'pricing-8',
    domain: 'pricing',
    question: 'Why might a company use multiple Price Books?',
    type: 'single',
    options: [
      'To confuse customers',
      'CPQ requires at least 3 price books',
      'To support different pricing for different regions, customer types, or channels',
      'For backup purposes only',
    ],
    correctAnswers: [2],
    explanation: 'Multiple Price Books enable different pricing strategies: regional pricing (US vs EU), customer-specific pricing (retail vs wholesale), promotional pricing, etc.',
  },

  // === CURRENCY TERMS ===
  // Correct: 3, 0, 1, 2, 3
  {
    id: 'currency-1',
    domain: 'currency',
    question: 'How are currencies typically identified in business systems?',
    type: 'single',
    options: [
      'By country name',
      'By currency name only',
      'By numeric ID only',
      'By ISO 4217 codes (e.g., USD, EUR, GBP)',
    ],
    correctAnswers: [3],
    explanation: 'Currencies are identified by ISO 4217 codes - standardized three-letter codes like USD (US Dollar), EUR (Euro), GBP (British Pound).',
  },
  {
    id: 'currency-2',
    domain: 'currency',
    question: 'What is a "base currency" used for?',
    type: 'single',
    options: [
      'The primary currency for financial reporting and consolidation',
      'The cheapest currency available',
      'The currency used only for costs',
      'The default currency for all customers',
    ],
    correctAnswers: [0],
    explanation: 'The base currency is the primary currency for financial reporting. All transactions can be converted to base currency for consistent reporting and analysis.',
  },
  {
    id: 'currency-3',
    domain: 'currency',
    question: 'What is an exchange rate used for in CPQ?',
    type: 'single',
    options: [
      'Setting interest rates',
      'Converting between currencies',
      'Calculating tax rates',
      'Determining discount percentages',
    ],
    correctAnswers: [1],
    explanation: 'Exchange rates define the conversion ratio between currencies. They allow quotes in different currencies to be converted for reporting and comparison.',
  },
  {
    id: 'currency-4',
    domain: 'currency',
    question: 'If the EUR to USD exchange rate is 1.10, what is €1,000 in USD?',
    type: 'single',
    options: ['$909.09', '$1,000.00', '$1,100.00', '$100.00'],
    correctAnswers: [2],
    explanation: 'With an exchange rate of 1.10, €1,000 × 1.10 = $1,100 USD. The rate multiplies the foreign currency to get the base currency amount.',
  },
  {
    id: 'currency-5',
    domain: 'currency',
    question: 'Why do exchange rates typically have effective dates?',
    type: 'single',
    options: [
      'To automatically update rates daily',
      'To track when rates were entered',
      'To expire old currencies',
      'To support historical rate tracking as rates change over time',
    ],
    correctAnswers: [3],
    explanation: 'Effective dates allow historical rate tracking. A quote created in January should use January\'s rate, even when viewed later. This ensures accurate historical reporting.',
  },

  // === QUOTE TERMS ===
  // Correct: 0, 1, 2, 3, 0, 1, 2, 3
  {
    id: 'quote-1',
    domain: 'quote',
    question: 'What is a Quote in CPQ?',
    type: 'single',
    options: [
      'A formal sales document listing products, prices, and terms',
      'A discount approval request',
      'A product configuration only',
      'A price estimate that cannot change',
    ],
    correctAnswers: [0],
    explanation: 'A Quote is a formal sales document listing what the customer is buying, at what price, and under what terms. It\'s the output of the CPQ process.',
  },
  {
    id: 'quote-2',
    domain: 'quote',
    question: 'What is a typical quote lifecycle?',
    type: 'single',
    options: [
      'Finalized → Draft → Approved',
      'Draft → Review → Approved → Accepted/Rejected',
      'Approved → Draft → Review',
      'Accepted → Draft → Finalized',
    ],
    correctAnswers: [1],
    explanation: 'Quotes typically flow: Draft (being created) → Review/Approval (if needed) → Approved → Accepted by customer (or Rejected/Cancelled).',
  },
  {
    id: 'quote-3',
    domain: 'quote',
    question: 'What is a Quote Line Item?',
    type: 'single',
    options: [
      'The quote total',
      'A discount applied to the quote',
      'A single row representing one product on the quote',
      'A customer\'s signature',
    ],
    correctAnswers: [2],
    explanation: 'A Quote Line Item is a single row on a quote representing one product or service with its quantity, price, and subtotal.',
  },
  {
    id: 'quote-4',
    domain: 'quote',
    question: 'What does MRR stand for in subscription business?',
    type: 'single',
    options: [
      'Maximum Revenue Rate',
      'Minimum Required Revenue',
      'Multiple Rate Reduction',
      'Monthly Recurring Revenue',
    ],
    correctAnswers: [3],
    explanation: 'MRR (Monthly Recurring Revenue) is the normalized monthly value of subscription revenue. Annual subscriptions are divided by 12 to calculate MRR.',
  },
  {
    id: 'quote-5',
    domain: 'quote',
    question: 'How is ARR (Annual Recurring Revenue) calculated?',
    type: 'single',
    options: [
      'ARR = MRR × 12',
      'ARR = MRR ÷ 12',
      'ARR = MRR + 12',
      'ARR = MRR × 4',
    ],
    correctAnswers: [0],
    explanation: 'ARR (Annual Recurring Revenue) = MRR × 12. It represents the yearly run-rate of subscription revenue.',
  },
  {
    id: 'quote-6',
    domain: 'quote',
    question: 'What does TCV (Total Contract Value) include that ARR does not?',
    type: 'single',
    options: [
      'Monthly subscriptions',
      'One-time charges and setup fees',
      'Annual subscriptions',
      'Customer discounts',
    ],
    correctAnswers: [1],
    explanation: 'TCV includes one-time charges (setup fees, implementation) plus recurring revenue for the contract term. ARR only includes annualized recurring revenue.',
  },
  {
    id: 'quote-7',
    domain: 'quote',
    question: 'What is proration in subscription billing?',
    type: 'single',
    options: [
      'A type of discount',
      'Splitting a quote between customers',
      'Adjusting the price for partial billing periods',
      'Converting currencies',
    ],
    correctAnswers: [2],
    explanation: 'Proration adjusts subscription prices when starting mid-billing-period. Starting a $100/month subscription on the 15th would charge ~$50 for the remaining days.',
  },
  {
    id: 'quote-8',
    domain: 'quote',
    question: 'When might a quote require approval before sending to the customer?',
    type: 'single',
    options: [
      'All quotes always require approval',
      'Only quotes under $100',
      'Quotes never require approval in CPQ',
      'When discounts exceed thresholds or margins are too low',
    ],
    correctAnswers: [3],
    explanation: 'Quotes typically require approval when business rules are triggered - like discounts exceeding thresholds, margins below minimums, or deal sizes above limits.',
  },

  // === CUSTOMER TERMS ===
  // Correct: 0, 1, 2, 3
  {
    id: 'customer-1',
    domain: 'customer',
    question: 'What information is typically stored on a customer record?',
    type: 'multiple',
    options: [
      'Contact information (name, email, phone)',
      'Company and address details',
      'Preferred pricing or price book assignment',
      'Detailed product inventory',
    ],
    correctAnswers: [0, 1, 2],
    explanation: 'Customer records typically include contact info, company details, and pricing preferences. Product inventory is tracked separately, not on customer records.',
  },
  {
    id: 'customer-2',
    domain: 'customer',
    question: 'How does assigning a Price Book to a customer help?',
    type: 'single',
    options: [
      'It enables customer-specific pricing automatically',
      'It limits which products they can purchase',
      'It changes their tax rate',
      'It sets their credit limit',
    ],
    correctAnswers: [0],
    explanation: 'Assigning a Price Book to a customer enables automatic customer-specific pricing. Quotes for that customer will use their assigned price book\'s prices.',
  },
  {
    id: 'customer-3',
    domain: 'customer',
    question: 'What does it mean when a customer is marked as tax exempt?',
    type: 'single',
    options: [
      'They pay extra tax',
      'They are exempt from tax charges on purchases',
      'They only buy taxable products',
      'They are in a different country',
    ],
    correctAnswers: [1],
    explanation: 'Tax-exempt customers are not charged sales tax on their purchases. This is common for resellers, non-profits, or government entities with valid exemption certificates.',
  },
  {
    id: 'customer-4',
    domain: 'customer',
    question: 'What is the typical relationship between customers and quotes?',
    type: 'single',
    options: [
      'One quote can have multiple customers',
      'Each customer has exactly one quote ever',
      'One customer can have many quotes over time',
      'Customers and quotes are not related',
    ],
    correctAnswers: [2],
    explanation: 'One customer can have many quotes over time. Each quote is for a specific opportunity or transaction, but customers typically have ongoing relationships with multiple quotes.',
  },
  {
    id: 'customer-5',
    domain: 'customer',
    question: 'Can a quote be created without specifying a customer?',
    type: 'single',
    options: [
      'No, a customer is always required',
      'Only for draft quotes',
      'Only for internal quotes',
      'Yes, quotes can be created for prospects not yet in the system',
    ],
    correctAnswers: [3],
    explanation: 'Quotes can often be created without a customer - useful for prospect quotes or quick estimates. The customer can be added later when they\'re ready to buy.',
  },

  // === CONTRACT TERMS ===
  // Correct: 0, 1, 2, 3, 0, 1
  {
    id: 'contract-1',
    domain: 'contract',
    question: 'What is a contract in the context of CPQ?',
    type: 'single',
    options: [
      'A time-bound agreement with negotiated terms and pricing',
      'A signed quote document',
      'A product warranty',
      'A payment plan',
    ],
    correctAnswers: [0],
    explanation: 'A contract is a time-bound agreement with a customer that defines terms, pricing, and conditions for a specific period. It can include negotiated pricing that overrides standard prices.',
  },
  {
    id: 'contract-2',
    domain: 'contract',
    question: 'What are typical contract status stages?',
    type: 'single',
    options: [
      'Open, Closed, Pending',
      'Draft, Active, Expired/Renewed',
      'New, In Progress, Complete',
      'Pending, Approved, Rejected',
    ],
    correctAnswers: [1],
    explanation: 'Contracts typically have statuses like: Draft (being prepared), Active (currently in effect), Expired (past end date), or Renewed (extended).',
  },
  {
    id: 'contract-3',
    domain: 'contract',
    question: 'What is contract-specific pricing?',
    type: 'single',
    options: [
      'A record of all payments made',
      'The contract\'s total value',
      'Negotiated prices that override standard price book prices',
      'A log of price changes',
    ],
    correctAnswers: [2],
    explanation: 'Contract-specific pricing allows negotiated prices that override standard price book prices for specific products during the contract term.',
  },
  {
    id: 'contract-4',
    domain: 'contract',
    question: 'When does contract pricing typically apply?',
    type: 'single',
    options: [
      'Always, regardless of contract status',
      'Only for configurable bundles',
      'Only on the first purchase',
      'Only when the contract is active and within its date range',
    ],
    correctAnswers: [3],
    explanation: 'Contract pricing only applies when the contract is active (not draft or expired) and the current date is within the contract\'s date range.',
  },
  {
    id: 'contract-5',
    domain: 'contract',
    question: 'What is a contract-wide discount?',
    type: 'single',
    options: [
      'A percentage discount that applies to all purchases under the contract',
      'A markup on all prices',
      'The profit margin requirement',
      'An approval threshold',
    ],
    correctAnswers: [0],
    explanation: 'A contract-wide discount is a percentage discount that applies to all products purchased under that contract, in addition to any product-specific contract pricing.',
  },
  {
    id: 'contract-6',
    domain: 'contract',
    question: 'What is the relationship between customers and contracts?',
    type: 'single',
    options: [
      'Each customer can have exactly one contract',
      'One customer can have multiple contracts',
      'Contracts are not linked to customers',
      'Multiple customers share one contract',
    ],
    correctAnswers: [1],
    explanation: 'One customer can have multiple contracts - perhaps for different product lines, time periods, or business units. Each contract belongs to a specific customer.',
  },

  // === TAX TERMS ===
  // Correct: 2, 3, 0, 1
  {
    id: 'tax-1',
    domain: 'tax',
    question: 'What factors typically determine which tax rate applies to a transaction?',
    type: 'multiple',
    options: [
      'Geographic location (ship-to address)',
      'Product category or type',
      'Quote status',
      'Customer tax exemption status',
    ],
    correctAnswers: [0, 1, 3],
    explanation: 'Tax rates are determined by geography (jurisdiction), product category (some items taxed differently), and customer exemption status. Quote status doesn\'t affect tax rates.',
  },
  {
    id: 'tax-2',
    domain: 'tax',
    question: 'What does a tax exemption enable?',
    type: 'single',
    options: [
      'Higher tax rates',
      'Different product pricing',
      'Skipping tax calculation for qualified customers',
      'Faster quote approval',
    ],
    correctAnswers: [2],
    explanation: 'Tax exemption means qualified customers (like resellers or non-profits) are not charged sales tax. They typically must provide exemption certificates.',
  },
  {
    id: 'tax-3',
    domain: 'tax',
    question: 'What information defines a tax rate?',
    type: 'multiple',
    options: [
      'The percentage rate',
      'Geographic jurisdiction (country, state/region)',
      'Customer name',
      'Effective date range',
    ],
    correctAnswers: [0, 1, 3],
    explanation: 'Tax rates include the percentage, jurisdiction (where it applies), and often date ranges (rates change over time). Customer name is not part of the tax rate definition.',
  },
  {
    id: 'tax-4',
    domain: 'tax',
    question: 'If a tax rate specifies country="US" and state="CA", when does it apply?',
    type: 'single',
    options: [
      'To all US transactions',
      'Only to transactions shipping to California',
      'To all transactions in USD',
      'Only to California-based products',
    ],
    correctAnswers: [1],
    explanation: 'A tax rate with state specified applies only to that state. The CA rate applies to California shipments. Rates without state specified apply to the whole country.',
  },
  {
    id: 'tax-5',
    domain: 'tax',
    question: 'What is the difference between a tax rate and a tax exemption?',
    type: 'single',
    options: [
      'Tax rate defines how much tax; exemption defines who doesn\'t pay',
      'They are the same thing',
      'Tax rate is for products; exemption is for services',
      'Exemption is always higher than the tax rate',
    ],
    correctAnswers: [0],
    explanation: 'Tax rate defines HOW MUCH tax to charge (the percentage). Tax exemption defines WHO doesn\'t pay tax (exempt customers).',
  },

  // === RULES TERMS ===
  // Correct: 1, 2, 3, 0, 1, 2
  {
    id: 'rules-1',
    domain: 'rules',
    question: 'What is a business rule in CPQ?',
    type: 'single',
    options: [
      'A company policy document',
      'Automated logic that validates configurations or adjusts pricing',
      'A user permission setting',
      'A product specification',
    ],
    correctAnswers: [1],
    explanation: 'Business rules are automated logic that validates configurations (ensure valid combinations) or adjusts pricing (apply discounts, flag for approval) based on conditions.',
  },
  {
    id: 'rules-2',
    domain: 'rules',
    question: 'What are the main types of CPQ rules?',
    type: 'single',
    options: [
      'Required and Optional',
      'Product rules and Quote rules',
      'Configuration rules and Pricing rules',
      'Automatic and Manual',
    ],
    correctAnswers: [2],
    explanation: 'CPQ typically has Configuration rules (validate product combinations, enforce dependencies) and Pricing rules (adjust prices, apply discounts, trigger approvals).',
  },
  {
    id: 'rules-3',
    domain: 'rules',
    question: 'When are rules typically evaluated?',
    type: 'single',
    options: [
      'Only when the quote is finalized',
      'Only by administrators manually',
      'Once per day automatically',
      'At specific trigger points like adding products or saving',
    ],
    correctAnswers: [3],
    explanation: 'Rules are evaluated at trigger points: when products are added, quantities change, the quote is saved, or at finalization. This ensures real-time validation.',
  },
  {
    id: 'rules-4',
    domain: 'rules',
    question: 'What is an example of a configuration rule?',
    type: 'single',
    options: [
      'If selecting high-end processor, require SSD storage',
      'Apply 10% discount on orders over $10,000',
      'Flag quotes over $50,000 for approval',
      'Convert prices to customer currency',
    ],
    correctAnswers: [0],
    explanation: 'Configuration rules validate product combinations. "If high-end processor, require SSD" ensures customers can\'t select incompatible options.',
  },
  {
    id: 'rules-5',
    domain: 'rules',
    question: 'What is an example of a pricing rule?',
    type: 'single',
    options: [
      'Processor requires compatible motherboard',
      'Require manager approval for discounts over 20%',
      'Monitor cannot be sold with tablet',
      'GPU requires adequate power supply',
    ],
    correctAnswers: [1],
    explanation: 'Pricing rules affect prices or trigger approvals. "Require approval for discounts over 20%" is a pricing rule that controls the approval workflow.',
  },
  {
    id: 'rules-6',
    domain: 'rules',
    question: 'What does rule priority control?',
    type: 'single',
    options: [
      'Which users can edit the rule',
      'Whether the rule is required',
      'The order in which rules are evaluated',
      'The severity of violations',
    ],
    correctAnswers: [2],
    explanation: 'Rule priority controls the order of evaluation when multiple rules could apply. Higher priority rules run first and can affect which subsequent rules fire.',
  },

  // === DISCOUNT TERMS ===
  // Correct: 3, 0, 1, 2, 3, 0
  {
    id: 'discount-1',
    domain: 'discount',
    question: 'What is the difference between a discount definition and an applied discount?',
    type: 'single',
    options: [
      'They are the same thing',
      'Definition is automatic; applied is manual',
      'Definition is for products; applied is for services',
      'Definition is the reusable template; applied is the specific instance on a quote',
    ],
    correctAnswers: [3],
    explanation: 'A discount definition is the reusable template (e.g., "10% volume discount"). An applied discount is when that discount is actually used on a specific quote or line.',
  },
  {
    id: 'discount-2',
    domain: 'discount',
    question: 'What are common discount types?',
    type: 'single',
    options: [
      'Percentage off and Fixed amount off',
      'Automatic and Manual only',
      'Line and Quote only',
      'Volume and Promotional only',
    ],
    correctAnswers: [0],
    explanation: 'Common discount types are Percentage (e.g., 10% off) and Fixed Amount (e.g., $50 off). These can be applied automatically or manually.',
  },
  {
    id: 'discount-3',
    domain: 'discount',
    question: 'What does "discount scope" refer to?',
    type: 'single',
    options: [
      'How much the discount is worth',
      'Where the discount applies: line item, quote, or category',
      'Who can approve the discount',
      'When the discount expires',
    ],
    correctAnswers: [1],
    explanation: 'Discount scope defines WHERE the discount applies: to a specific line item, the entire quote, or all products in a category.',
  },
  {
    id: 'discount-4',
    domain: 'discount',
    question: 'What is a volume-based discount tier?',
    type: 'single',
    options: [
      'A customer loyalty level',
      'A pricing category',
      'A discount that increases with quantity purchased',
      'A product classification',
    ],
    correctAnswers: [2],
    explanation: 'Volume-based discount tiers increase discounts with quantity: e.g., 5% off at 10+ units, 10% off at 50+ units, 15% off at 100+ units.',
  },
  {
    id: 'discount-5',
    domain: 'discount',
    question: 'What does "stackable" mean for a discount?',
    type: 'single',
    options: [
      'The discount can be applied multiple times to the same item',
      'The discount applies to stacked products',
      'The discount has multiple tiers',
      'The discount can combine with other discounts',
    ],
    correctAnswers: [3],
    explanation: 'A stackable discount can combine with other discounts. Non-stackable (exclusive) discounts cannot be combined - only one applies.',
  },
  {
    id: 'discount-6',
    domain: 'discount',
    question: 'In what order are discounts typically applied?',
    type: 'single',
    options: [
      'Line-level discounts first, then quote-level discounts',
      'Alphabetically by name',
      'Randomly',
      'Quote-level discounts first, then line-level',
    ],
    correctAnswers: [0],
    explanation: 'Typically line-level discounts apply first to individual items, then quote-level discounts apply to the adjusted totals. This affects the final calculation.',
  },
  {
    id: 'discount-7',
    domain: 'discount',
    question: 'What information should be tracked when a discount is applied?',
    type: 'multiple',
    options: [
      'Which discount was applied',
      'The calculated amount saved',
      'Who applied it and when',
      'Customer\'s payment method',
    ],
    correctAnswers: [0, 1, 2],
    explanation: 'Applied discounts should track: which discount, the calculated amount, and audit info (who/when). Payment method is unrelated to discount tracking.',
  },

  // === GUIDED SELLING TERMS ===
  // Correct: 1, 2, 3, 0, 1, 2, 3
  {
    id: 'guided-selling-1',
    domain: 'guided-selling',
    question: 'What is guided selling in CPQ?',
    type: 'single',
    options: [
      'A sales training program',
      'A process that helps users find the right products through questions or recommendations',
      'A pricing strategy',
      'A discount approval workflow',
    ],
    correctAnswers: [1],
    explanation: 'Guided selling helps users find appropriate products through needs-assessment questions or product recommendations based on what they\'ve already selected.',
  },
  {
    id: 'guided-selling-2',
    domain: 'guided-selling',
    question: 'What is a product affinity or relationship?',
    type: 'single',
    options: [
      'How popular a product is',
      'A product\'s position in the catalog',
      'A connection between products that triggers recommendations',
      'A product\'s sales history',
    ],
    correctAnswers: [2],
    explanation: 'Product affinity is a relationship between products that triggers recommendations. For example, "customers who buy laptops often need laptop bags" creates a cross-sell affinity.',
  },
  {
    id: 'guided-selling-3',
    domain: 'guided-selling',
    question: 'What types of product recommendations are common?',
    type: 'multiple',
    options: [
      'Cross-sell (complementary products)',
      'Upsell (higher-tier alternatives)',
      'Required accessories',
      'Random suggestions',
    ],
    correctAnswers: [0, 1, 2],
    explanation: 'Common recommendation types: Cross-sell (complementary items), Upsell (premium alternatives), Required (mandatory accessories). Random suggestions don\'t help users.',
  },
  {
    id: 'guided-selling-4',
    domain: 'guided-selling',
    question: 'What is a needs-assessment questionnaire in guided selling?',
    type: 'single',
    options: [
      'A customer feedback survey',
      'A product configuration wizard',
      'A quote approval form',
      'A quiz that asks questions to recommend appropriate products',
    ],
    correctAnswers: [3],
    explanation: 'A needs-assessment questionnaire asks users questions about their requirements and uses the answers to recommend appropriate products from the catalog.',
  },
  {
    id: 'guided-selling-5',
    domain: 'guided-selling',
    question: 'How do affinity-based and questionnaire-based recommendations differ?',
    type: 'single',
    options: [
      'They work the same way',
      'Affinity is triggered by product selection; questionnaire is triggered by user answers',
      'Affinity is only for upsells; questionnaire is only for cross-sells',
      'Affinity is faster; questionnaire is more accurate',
    ],
    correctAnswers: [1],
    explanation: 'Affinity-based recommendations trigger when products are added to a quote. Questionnaire-based recommendations come from analyzing user answers to needs-assessment questions.',
  },
  {
    id: 'guided-selling-6',
    domain: 'guided-selling',
    question: 'What is a relevance score in product recommendations?',
    type: 'single',
    options: [
      'The product\'s price',
      'The product\'s popularity',
      'How strongly a product matches user needs or selections',
      'The discount amount available',
    ],
    correctAnswers: [2],
    explanation: 'Relevance scores indicate how strongly a product matches user needs. Higher scores mean better matches, helping prioritize which recommendations to show.',
  },
  {
    id: 'guided-selling-7',
    domain: 'guided-selling',
    question: 'Why might you track recommendation actions (shown, accepted, dismissed)?',
    type: 'multiple',
    options: [
      'To measure recommendation effectiveness',
      'To improve future recommendations',
      'To track inventory levels',
      'For sales analytics and reporting',
    ],
    correctAnswers: [0, 1, 3],
    explanation: 'Tracking recommendation actions helps measure effectiveness, improve algorithms, and provides sales analytics. It doesn\'t affect inventory tracking.',
  },
  {
    id: 'guided-selling-8',
    domain: 'guided-selling',
    question: 'What sources can product recommendations come from?',
    type: 'multiple',
    options: [
      'Predefined affinity rules',
      'Needs-assessment questionnaires',
      'AI/machine learning algorithms',
      'Manual sales rep suggestions',
    ],
    correctAnswers: [0, 1, 2, 3],
    explanation: 'Recommendations can come from multiple sources: predefined rules, questionnaires, AI algorithms analyzing patterns, or manual suggestions from sales reps.',
  },

  // === RELATIONSHIP QUESTIONS ===
  // Correct: 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2
  {
    id: 'relationship-1',
    domain: 'relationships',
    question: 'What is the hierarchy from Product to selectable Option?',
    type: 'single',
    options: [
      'Product → Feature → Option',
      'Product → Option → Feature',
      'Feature → Product → Option',
      'Option → Feature → Product',
    ],
    correctAnswers: [0],
    explanation: 'The hierarchy is: Product (configurable bundle) contains Features, Features contain Options. Products own Features, Features own Options.',
  },
  {
    id: 'relationship-2',
    domain: 'relationships',
    question: 'What is the pricing hierarchy from Price Book to volume tiers?',
    type: 'single',
    options: [
      'Price Book → Volume Tiers → Price Entries',
      'Price Book → Price Entries → Volume Tiers',
      'Volume Tiers → Price Book → Price Entries',
      'Price Entries → Price Book → Volume Tiers',
    ],
    correctAnswers: [1],
    explanation: 'Price Books contain Price Entries (one per product), and Price Entries can have Volume Tiers for quantity-based pricing.',
  },
  {
    id: 'relationship-3',
    domain: 'relationships',
    question: 'How does contract pricing typically flow to a quote?',
    type: 'single',
    options: [
      'Contract → Quote → Price Book',
      'Quote → Contract → Customer',
      'Customer → Contract → Quote (contract prices override standard)',
      'Price Book → Contract → Quote',
    ],
    correctAnswers: [2],
    explanation: 'The customer has contracts. When creating a quote for that customer, contract prices can override standard price book prices if the contract is active.',
  },
  {
    id: 'relationship-4',
    domain: 'relationships',
    question: 'How are products typically linked to categories?',
    type: 'single',
    options: [
      'Direct foreign key on the product',
      'Category contains a list of product IDs',
      'Products cannot be in categories',
      'Through a junction/linking table for many-to-many',
    ],
    correctAnswers: [3],
    explanation: 'Products and categories typically have a many-to-many relationship through a junction table. This allows one product to be in multiple categories.',
  },
  {
    id: 'relationship-5',
    domain: 'relationships',
    question: 'How do discounts relate to quotes and line items?',
    type: 'single',
    options: [
      'Discounts can apply to either quotes or specific line items',
      'Discounts only apply to entire quotes',
      'Discounts only apply to line items',
      'Discounts are independent of quotes',
    ],
    correctAnswers: [0],
    explanation: 'Applied discounts can be quote-level (apply to entire quote) or line-level (apply to specific line items). The scope determines which.',
  },
  {
    id: 'relationship-6',
    domain: 'relationships',
    question: 'What is the relationship between attributes and attribute groups?',
    type: 'single',
    options: [
      'One attribute must belong to many groups',
      'One attribute optionally belongs to one group for organization',
      'Groups belong to attributes',
      'They are not related',
    ],
    correctAnswers: [1],
    explanation: 'An attribute can optionally belong to one group for organizational purposes. Groups help organize related attributes in the UI.',
  },
  {
    id: 'relationship-7',
    domain: 'relationships',
    question: 'How does currency relate to price books?',
    type: 'single',
    options: [
      'Price books don\'t have currencies',
      'All price books share one currency',
      'Each price book can be assigned a specific currency',
      'Currencies replace price books',
    ],
    correctAnswers: [2],
    explanation: 'Each price book can be assigned a currency, enabling different price books for different currencies (USD, EUR, etc.).',
  },
  {
    id: 'relationship-8',
    domain: 'relationships',
    question: 'Which entities typically can have a currency assigned?',
    type: 'multiple',
    options: [
      'Price Books',
      'Quotes',
      'Customers',
      'Individual Products',
    ],
    correctAnswers: [0, 1, 2],
    explanation: 'Price Books, Quotes, and Customers can have currencies assigned. Products don\'t have currencies - their prices come from price book entries.',
  },
  {
    id: 'relationship-9',
    domain: 'relationships',
    question: 'How do line-level and quote-level discounts differ?',
    type: 'single',
    options: [
      'Line-level affects one item; quote-level affects the entire quote',
      'Quote-level discounts have higher priority',
      'Line-level can\'t be percentage-based',
      'They reference different discount systems',
    ],
    correctAnswers: [0],
    explanation: 'Line-level discounts affect a specific line item. Quote-level discounts affect the entire quote total. Both can be percentage or fixed amount.',
  },
  {
    id: 'relationship-10',
    domain: 'relationships',
    question: 'What is the parent-child relationship on quote line items used for?',
    type: 'single',
    options: [
      'Linking quotes to customers',
      'Tracking bundle option selections as child items of the bundle',
      'Creating discount hierarchies',
      'Grouping products by category',
    ],
    correctAnswers: [1],
    explanation: 'When a configurable bundle is added, the bundle is the parent line item and selected options become child line items linked to the parent.',
  },
  {
    id: 'relationship-11',
    domain: 'relationships',
    question: 'How can tax rates relate to product categories?',
    type: 'single',
    options: [
      'Tax rates are always category-specific',
      'Categories set the tax rate amount',
      'Tax rates can optionally apply to specific categories for special taxation',
      'They are never related',
    ],
    correctAnswers: [2],
    explanation: 'Tax rates can optionally be linked to categories for specialized taxation. For example, food items might have a reduced rate compared to general merchandise.',
  },
  {
    id: 'relationship-12',
    domain: 'relationships',
    question: 'What is the typical quote calculation flow?',
    type: 'single',
    options: [
      'Subtotal → Total → Discount → Tax',
      'Total → Subtotal → Discount → Tax',
      'Tax → Subtotal → Discount → Total',
      'Subtotal → Discount → Tax → Total',
    ],
    correctAnswers: [3],
    explanation: 'The typical flow: Subtotal (sum of lines) → Apply discounts → Calculate tax → Final total.',
  },
  {
    id: 'relationship-13',
    domain: 'relationships',
    question: 'How do questionnaires, questions, and product mappings relate?',
    type: 'single',
    options: [
      'Questionnaires contain questions; questions have product mappings',
      'Questions contain questionnaires',
      'Product mappings contain questions',
      'They are all independent',
    ],
    correctAnswers: [0],
    explanation: 'Questionnaires contain Questions. Questions have Product Mappings that link specific answers to recommended products with relevance scores.',
  },
  {
    id: 'relationship-14',
    domain: 'relationships',
    question: 'What can product affinities connect?',
    type: 'single',
    options: [
      'Only products to products',
      'Products to products, products to categories, or categories to categories',
      'Only categories to categories',
      'Products to quotes',
    ],
    correctAnswers: [1],
    explanation: 'Product affinities can connect products to products, products to categories, or categories to categories, enabling flexible recommendation rules.',
  },
  {
    id: 'relationship-15',
    domain: 'relationships',
    question: 'What is the customer → contract → contract pricing hierarchy?',
    type: 'single',
    options: [
      'Contracts own customers and pricing',
      'Pricing entries own contracts and customers',
      'Customers own contracts; contracts contain product-specific price overrides',
      'They are all independent with no hierarchy',
    ],
    correctAnswers: [2],
    explanation: 'Customers have contracts. Each contract can contain product-specific price overrides that apply during the contract period.',
  },
]

// Helper to get questions by domain
export function getQuestionsByDomain(domain: QuizDomain): QuizQuestion[] {
  return quizQuestions.filter(q => q.domain === domain)
}

// Get all domains that have questions
export function getAvailableDomains(): QuizDomain[] {
  const domains = new Set(quizQuestions.map(q => q.domain))
  return Array.from(domains)
}
